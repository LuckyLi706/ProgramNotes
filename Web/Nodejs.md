# åŸºç¡€

## npmå‘½ä»¤

### å®‰è£…npm

+ macå®‰è£…

  ```javascript
  # 1ã€å°†ä¹‹å‰ç”¨ brew å®‰è£…çš„ node å…ˆå¸è½½æ‰
  rm -rf /usr/local/lib/node_modules
  brew uninstall node
  
  # 2ã€ä½¿ç”¨ brew å®‰è£… nvm
  brew update
  brew install nvm
  
  # 3ã€å®‰è£…æˆåŠŸåï¼ˆä¼šæœ‰ç¨é•¿æ—¶é—´ç­‰å¾…ï¼‰
  # éœ€è¦é…ç½®ä¸€ä¸‹ .zshrcï¼ˆæ²¡æœ‰å°±åˆ›å»ºä¸€ä¸ªï¼Œç›®å½• ~/ï¼‰
  # .nvm æ–‡ä»¶å¤¹éœ€è¦åˆ›å»ºçš„è¯ä¹Ÿç›´æ¥åˆ›å»ºäº†ï¼ˆä¹Ÿæ˜¯åœ¨ ~/ï¼‰
  touch ~/.zshrc
  
  # 4ã€åˆ›å»ºåï¼ˆæœ¬æ¥å°±æœ‰è¿™ä¸ªæ–‡ä»¶ï¼‰ï¼Œå¾€é‡Œé¢æ·»åŠ  nvm çš„é…ç½®
  # ç›´æ¥æ‹·è´å°±è¡Œï¼Œæˆ‘æ˜¯ä» nvm çš„ github æ‰¾åˆ°çš„
  # æ·»åŠ å®Œä¹‹åè®°å¾— source ä¸€ä¸‹
  export NVM_DIR="/Users/liminglin/.nvm"
    [ -s "/usr/local/opt/nvm/nvm.sh" ] && . "/usr/local/opt/nvm/nvm.sh"  # This loads nvm
    [ -s "/usr/local/opt/nvm/etc/bash_completion.d/nvm" ] && . "/usr/local/opt/nvm/etc/bash_completion.d/nvm"  # This loads nvm bash_completion
    
  # 5ã€ç„¶åä½¿ç”¨ nvm å®‰è£… nodeï¼ˆå®Œæˆåå‡çº§å°±ğŸ‘Œäº†ï¼‰
  nvm install node
  ```

+ linuxå®‰è£…

### å®‰è£…ä¾èµ–å‘½ä»¤

1. npm install æ¨¡å—å -g  //å…¨å±€å®‰è£…ï¼Œä½†æ˜¯ä»£ç ä¸­ï¼Œç›´æ¥é€šè¿‡require()çš„æ–¹å¼æ˜¯æ²¡æœ‰åŠæ³•è°ƒç”¨å…¨å±€å®‰è£…çš„åŒ…çš„ã€‚å…¨å±€çš„å®‰è£…æ˜¯ä¾›å‘½ä»¤è¡Œä½¿ç”¨çš„

2. npm install æ¨¡å—å      //æœ¬åœ°å®‰è£…ï¼Œé»˜è®¤å®‰è£…æœ€æ–°ç‰ˆï¼Œä¹Ÿå¯ä»¥è·Ÿç‰ˆæœ¬å·æŒ‡å®šç‰ˆæœ¬ã€‚å½“å‰ç›®å½•å­˜åœ¨package.jsonï¼Œä¼šå®‰è£…åˆ°å½“å‰ç›®å½•çš„node_modulesç›®å½•ä¸‹ã€‚å¦‚æœæ²¡æœ‰åˆ™ä¼šæ”¾åˆ°C:/Users/ç”¨æˆ·å/node_modulesä¸‹ã€‚

3. npm install æ¨¡å—1 æ¨¡å—2 æ¨¡å—3   //ä¸€æ¬¡å®‰è£…å¤šä¸ªæ¨¡å—

### æŸ¥çœ‹å®‰è£…ç›®å½•

1. npm root       //æŸ¥çœ‹å½“å‰åŒ…çš„å®‰è£…è·¯å¾„

2. npm root -g  //æŸ¥çœ‹å…¨å±€çš„åŒ…çš„å®‰è£…è·¯å¾„

### æ›´æ–°æ¨¡å—

1. npm update  æ¨¡å—å    

2. npm update æ¨¡å—å @ç‰ˆæœ¬å·   //å½“ç„¶ä½ ä¹Ÿå¯ä»¥update è¯¥æ¨¡å—åˆ°æŒ‡å®šç‰ˆæœ¬

3. npm install æ¨¡å—å@latest        //å¦‚æœå®‰è£…åˆ°æœ€æ–°ç‰ˆæœ¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤

### å¸è½½æ¨¡å—

npm uninstall æ¨¡å—å  

### è·¯å¾„

1. npmçš„ç¼“å­˜ç›®å½•åœ¨å“ªé‡Œï¼Ÿ

â€‹      npm config get cache

2. npmçš„å…¨å±€nodeåŒ…åœ¨å“ªé‡Œï¼Ÿ

â€‹      npm config get prefix

### æ›´æ¢æºåœ°å€

+ npm config get registry  æŸ¥çœ‹é•œåƒæº

//æ›´æ¢ä¸ºæ·˜å®çš„é•œåƒæº

1. npm config set registry https://registry.npm.taobao.org --global

2. npm config set disturl https://npm.taobao.org/dist --global

3. npm install -g cnpm --registry=https://registry.npm.taobao.org     //ä½¿ç”¨cnpmåŠ é€Ÿ

### package.json å’Œ package-lock.json ä½œç”¨

```javascript
package.json:
ä¸»è¦ç”¨æ¥å®šä¹‰é¡¹ç›®ä¸­éœ€è¦ä¾èµ–çš„åŒ…,npm initä¹‹åä¼šè‡ªåŠ¨ç”Ÿæˆã€‚

package-lock.jsonï¼š
åœ¨ `npm install`æ—¶å€™ç”Ÿæˆä¸€ä»½æ–‡ä»¶ï¼Œç”¨ä»¥è®°å½•å½“å‰çŠ¶æ€ä¸‹å®é™…å®‰è£…çš„å„ä¸ªnpm packageçš„å…·ä½“æ¥æºå’Œç‰ˆæœ¬å·ã€‚

'^' :

æ”¾åœ¨ç‰ˆæœ¬å·ä¹‹å‰ï¼Œè¡¨ç¤ºå‘åå…¼å®¹ä¾èµ–ï¼Œè¯´ç™½äº†å°±æ˜¯åœ¨å¤§ç‰ˆæœ¬å·ä¸å˜çš„æƒ…å†µä¸‹ï¼Œä¸‹è½½æœ€æ–°ç‰ˆçš„åŒ…ã€‚

é¡¹ç›®ä¸­å¼•å…¥çš„åŒ…ç‰ˆæœ¬å·ä¹‹å‰ç»å¸¸ä¼šåŠ ^å·ï¼Œæ¯æ¬¡åœ¨æ‰§è¡Œnpm installä¹‹åï¼Œä¸‹è½½çš„åŒ…éƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œä¸ºäº†ç³»ç»Ÿçš„ç¨³å®šæ€§è€ƒè™‘ï¼Œæ¯æ¬¡æ‰§è¡Œå®Œnpm installä¹‹åä¼šå¯¹åº”ç”Ÿæˆpackage-lockæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶è®°å½•äº†ä¸Šä¸€æ¬¡å®‰è£…çš„å…·ä½“çš„ç‰ˆæœ¬å·ï¼Œç›¸å½“äºæ˜¯æä¾›äº†ä¸€ä¸ªå‚è€ƒï¼Œåœ¨å‡ºç°ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜çš„æ—¶å€™ï¼Œå°±å¯ä»¥å‚è€ƒè¿™ä¸ªæ–‡ä»¶æ¥ä¿®æ”¹ç‰ˆæœ¬å·å³å¯ã€‚
```

